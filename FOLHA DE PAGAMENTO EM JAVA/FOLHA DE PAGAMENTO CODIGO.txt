import java.util.Scanner;
import javax.swing.JOptionPane;

public class Apps {
    public static void main(String[] args) throws Exception {
        String nome,cargo;
		double salarioBruto,valeTransporte,planoDeSaude,inss,calculoFaltas,calculoHorasExtras,calculoSalarioFamilia,valorVenda,calculoVenda;
		int numFaltas,horasExtras,numDependentes,continuar=0;
		double valorSalarioFamilia=56.47; 
		
        Scanner sc = new Scanner(System.in);
	while(continuar == 0){
        nome = JOptionPane.showInputDialog(null, "Digite o seu nome: ");
        if(nome == null || nome.equals("")){
            JOptionPane.showMessageDialog(null, "Voce precisa digitar um nome","Folha de Pagamento",JOptionPane.ERROR_MESSAGE);
            break;
        }
		salarioBruto = Double.parseDouble(JOptionPane.showInputDialog(null, "Digite o salario "));
		numFaltas = Integer.parseInt(JOptionPane.showInputDialog(null, "Digite o numero de faltas: "));
        if(numFaltas > 31 || numFaltas < 0){
            JOptionPane.showMessageDialog(null, "O numero de dias nao pode ser maior que 31","Folha de Pagamento",JOptionPane.ERROR_MESSAGE);
            break;
        }
		horasExtras = Integer.parseInt(JOptionPane.showInputDialog(null, "Digite o numero de horas extras: "));
		numDependentes = Integer.parseInt(JOptionPane.showInputDialog(null, "Digite o numero de Dependentes: "));
		cargo = JOptionPane.showInputDialog(null, "Digite o cargo: ");
		
		valeTransporte = salarioBruto * 0.06; // 6%
		planoDeSaude = salarioBruto *0.01 + 50; // 1% + 50
		inss = salarioBruto * 0.11; //11%
		calculoFaltas = salarioBruto/30 *numFaltas;
		calculoHorasExtras = salarioBruto * 0.01 * horasExtras;
		calculoSalarioFamilia = numDependentes * valorSalarioFamilia;

        while(cargo.equals("dev")){
            valorVenda = Double.parseDouble(JOptionPane.showInputDialog(null, "Digite o valor da venda: "));
                if(valorVenda < 0){
                    JOptionPane.showMessageDialog(null, "Digite um valor válido","Folha de Pagamento",JOptionPane.ERROR_MESSAGE);
                    break;
                }else if( valorVenda > 0){
                    calculoVenda = valorVenda * 0.10;
                    JOptionPane.showMessageDialog(null, "\nNome: "+nome+"\nSalário Bruto: R$"+salarioBruto+"\nFaltas:  "+numFaltas+"\nHoras Extras:  "+horasExtras+"\nComissão: "+calculoVenda+"\nDescontos: "+(valeTransporte+planoDeSaude+inss+calculoFaltas)+"\nSalário Liquido: R$"+ (salarioBruto-valeTransporte-planoDeSaude-inss-calculoFaltas+calculoHorasExtras+calculoVenda+calculoSalarioFamilia)); 
                    cargo = "nenhum";
                }      
        }
		if(cargo.equals("")){
            JOptionPane.showMessageDialog(null, "\nNome: "+nome+"\nSalário Bruto: R$"+salarioBruto+"\nFaltas:  "+numFaltas+"\nHoras Extras:  "+horasExtras+"\nDescontos: "+(valeTransporte+planoDeSaude+inss+calculoFaltas)+"\nSalário Liquido: R$"+ (salarioBruto-valeTransporte-planoDeSaude-inss-calculoFaltas+calculoHorasExtras+calculoSalarioFamilia)); 
        }else if(cargo != "nenhum"){
            JOptionPane.showMessageDialog(null, "Digite um cargo válido ou deixe em branco","Folha de Pagamento",JOptionPane.ERROR_MESSAGE);
            break;
        }
        continuar = JOptionPane.showConfirmDialog(null, "Deseja fazer outro calculo?");
            if(continuar != 0){
                JOptionPane.showMessageDialog(null, "Programa encerrado!","Folha de Pagamento",JOptionPane.ERROR_MESSAGE);
                } 
	}	
	sc.close();
    }
}
